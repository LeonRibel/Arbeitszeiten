<?php

use App\Enum\FehlzeitenStatus;
?>
<div class="table">
    <div class="thead">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <div class="tr">
            <div class="td">Datum</div>
            <div class="td">Tage</div>
            <div class="td">Name</div>
            <div class="td">Status</div>
            <div class="td">Aktionen</div>
            <div class="td-aktionen"><a href="/Fehlzeiten/update" class="button-link" style="display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; margin-left: 8px;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v8M8 12h8" />
                    </svg>
                </a></div>
        </div>
    </div>
    <div class="tbody">
        <?php foreach ($fehlzeiten as $eintrag): ?>
            <div class="tr">
                <div class="td"><?= htmlspecialchars(date('d.m.Y', strtotime($eintrag['Krankheit_start']))) ?>
                    -
                    <?= htmlspecialchars(date('d.m.Y', strtotime($eintrag['Krankheit_ende']))) ?>

                    <a href="Fehlzeiten/update?id=<?= $eintrag['Fehlzeiten_id'] ?>" class="button-links">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 3.487a2.25 2.25 0 1 1 3.182 3.182L7.125 19.586l-4.607 1.425 1.425-4.607L16.862 3.487z" />
                        </svg>
                    </a>
                </div>
                <div class="td"><?= htmlspecialchars(string: $eintrag['Tage']) ?> Tage</div>
                <div class="td"><?= htmlspecialchars($eintrag['Vorname']) ?> <?= htmlspecialchars($eintrag['Nachname']) ?></div>
                <div class="td">
                    <?php if ($eintrag['Status'] === \App\Enum\FehlzeitenStatus::ABGELEHNT->value): ?>
                        <span class="status eingereicht"><?= \App\Enum\FehlzeitenStatus::ABGELEHNT->value ?></span>
                    <?php else: ?>
                        <span class="status nicht-eingereicht"><?= \App\Enum\FehlzeitenStatus::GENEHMIGT->value ?></span>
                    <?php endif; ?>
                </div>
                <div class="td aktionen">
                    <a href="Fehlzeiten/upload?id=<?= $eintrag['Fehlzeiten_id'] ?>" class="button-links">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v4h16v-4M12 12v8M8 8l4-4 4 4" />
                        </svg>
                    </a>
                </div>
                <div class="td aktionen">
                    <a href="Fehlzeiten/update?id=<?= $eintrag['Fehlzeiten_id'] ?>" class="button-links">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 3.487a2.25 2.25 0 1 1 3.182 3.182L7.125 19.586l-4.607 1.425 1.425-4.607L16.862 3.487z" />
                        </svg>
                    </a>

                </div>
            </div>
        <?php endforeach; ?>
    </div>
</div>
</div>