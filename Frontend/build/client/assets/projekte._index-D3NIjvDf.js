import{w as x,r as n,L as f}from"./chunk-FGUA77HG-DXx5pbNv.js";import{j as s}from"./jsx-runtime-u17CrQMm.js";import{T as u,a as h,b as i,c as t,d as j,e as a}from"./table-B07IBsFq.js";import{f as b}from"./fetchApi-CVhRWstt.js";import{F as p}from"./PlusCircleIcon-d1m_gb0I.js";import"./clsx-B-dksMZM.js";import"./link-DeWrvwtq.js";import"./config-Diokydjp.js";const v=x(function(){const[o,r]=n.useState([]),[l,c]=n.useState(!0);n.useEffect(()=>{b("/projekte").then(e=>{console.log("API Response:",e),Array.isArray(e)?r(e):e&&Array.isArray(e.data)?r(e.data):e&&typeof e=="object"?(console.error("Unerwartetes Antwortformat:",e),r([])):(console.error("Keine Projekte gefunden"),r([]))}).catch(e=>{console.error("Fehler beim Laden der Projekte:",e),r([])}).finally(()=>c(!1))},[]);const d=e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e),m=e=>e==="aktiv"?"bg-zinc-900 text-orange-600 font-semibold":"bg-zinc-900 text-green-600 font-semibold";return l?s.jsx("div",{children:"Lädt…"}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Projekte"}),s.jsxs(f,{to:"/projekte/neu",className:"inline-flex items-center gap-2 px-4 py-2 bg-white-600 hover:bg-white-700 text-white rounded-lg transition-colors",children:[s.jsx(p,{className:"w-5 h-5"}),"Neues Projekt"]})]}),s.jsxs(u,{striped:!0,children:[s.jsx(h,{children:s.jsxs(i,{children:[s.jsx(t,{children:"Aufgabe"}),s.jsx(t,{children:"Kunde"}),s.jsx(t,{children:"Status"}),s.jsx(t,{className:"text-right",children:"Budget"})]})}),s.jsx(j,{children:o.map(e=>s.jsxs(i,{children:[s.jsx(a,{className:"font-medium",children:e.aufgabe}),s.jsx(a,{children:e.kunde?e.kunde.firmenname:"—"}),s.jsx(a,{children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(e.status)}`,children:e.status})}),s.jsx(a,{className:"text-right font-medium",children:d(e.gesamt)})]},e.id))})]})]})});export{v as default};
