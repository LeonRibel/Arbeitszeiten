import{w as p,r as o}from"./chunk-FGUA77HG-DXx5pbNv.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{f as u}from"./fetchApi-CVhRWstt.js";import{u as g}from"./useTranslation-DlJuNdwr.js";import"./config-Diokydjp.js";const N=p(function(){const{t:s}=g(),[i,m]=o.useState(""),[l,c]=o.useState(""),[a,d]=o.useState(""),[x,f]=o.useState([]);o.useEffect(()=>{u("/kunden").then(t=>{f(t)}).catch(t=>{console.error("Fehler beim Laden der Kunden:",t)})},[]);const h=async t=>{t.preventDefault();const r={kunde_id:parseInt(i),aufgabe:l,gesamt:parseFloat(a),status:"aktiv"};console.log("Sende neue Daten:",r);try{const n=await u("/projekte",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log("Antwort vom Server:",n),window.location.href="/projekte"}catch(n){console.error("Fehler beim Erstellen des Projekts:",n),alert(s("networkError")+": "+n)}};return e.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-white",children:s("new project")})}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{method:"post",onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kunde",className:"block text-sm/6 font-medium text-gray-100",children:s("customer")}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{id:"kunde",name:"kunde",required:!0,value:i,onChange:t=>m(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Kunde auswÃ¤hlen..."}),x.map(t=>e.jsx("option",{value:String(t.id),children:t.firmenname},t.id))]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aufgabe",className:"block text-sm/6 font-medium text-gray-100",children:s("tasks")}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"aufgabe",type:"text",name:"aufgabe",required:!0,value:l,onChange:t=>c(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gesamt",className:"block text-sm/6 font-medium text-gray-100",children:s("gesamt")}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"gesamt",type:"number",name:"gesamt",required:!0,value:a,onChange:t=>d(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm/6 font-semibold text-white hover:bg-indigo-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:s("create")})})]}),e.jsx("p",{className:"mt-10 text-center text-sm/6 text-gray-400",children:e.jsx("a",{href:"/projekte",className:"font-semibold text-indigo-400 hover:text-indigo-300",children:s("backToDashboard")})})]})]})});export{N as default};
