import{w as f,r as a}from"./chunk-FGUA77HG-DXx5pbNv.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";const g=f(function({params:n}){const[s,h]=a.useState({vorhandene_daten:{}}),[o,m]=a.useState(""),[r,d]=a.useState(""),[l,c]=a.useState("");a.useEffect(()=>{fetch(`http://localhost/Mitarbeiter/update?id=${n.mitarbeiter}`,{credentials:"include",headers:{Accept:"application/json"}}).then(t=>t.json()).then(t=>{console.log(t),h(t),m(t.vorhandene_daten?.vorname),d(t.vorhandene_daten?.nachname),c(t.vorhandene_daten?.username)}).catch(t=>console.error("Fehler beim Laden der Mitarbeiterdaten:",t))},[n.mitarbeiter]);const x=async t=>{t.preventDefault();const i=new FormData;i.append("Vorname",o),i.append("Nachname",r),i.append("username",l),i.append("id",String(s.vorhandene_daten?.id??n.mitarbeiter??"")),console.log("Sende Daten:",{vorname:o,nachname:r,username:l,id:s.vorhandene_daten?.id??n.mitarbeiter});try{(await fetch("http://localhost/Mitarbeiter/update",{method:"POST",credentials:"include",body:i})).ok&&(window.location.href="/Mitarbeiter")}catch(u){console.error("Fehler beim Aktualisieren des Mitarbeiters:",u)}};return e.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-white",children:"Mitarbeiter bearbeiten"})}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{method:"post",onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"vorname",className:"block text-sm/6 font-medium text-gray-100",children:"Vorname"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"vorname",type:"text",name:"vorname",required:!0,value:o,onChange:t=>m(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nachname",className:"block text-sm/6 font-medium text-gray-100",children:"Nachname"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"nachname",type:"text",name:"nachname",required:!0,value:r,onChange:t=>d(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm/6 font-medium text-gray-100",children:"Benutzername"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"username",type:"text",name:"username",required:!0,value:l,onChange:t=>c(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsx("input",{type:"hidden",name:"id",value:s.vorhandene_daten.id??n.mitarbeiter??""}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm/6 font-semibold text-white hover:bg-indigo-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:"Bestätigen"})})]}),e.jsx("p",{className:"mt-10 text-center text-sm/6 text-gray-400",children:e.jsx("a",{href:"/Mitarbeiter",className:"font-semibold text-indigo-400 hover:text-indigo-300",children:"Zurück zum Dashboard"})})]})]})});export{g as default};
