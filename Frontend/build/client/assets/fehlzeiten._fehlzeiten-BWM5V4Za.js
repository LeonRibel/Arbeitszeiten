import{w as p,r as l}from"./chunk-FGUA77HG-DXx5pbNv.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{f as h}from"./fetchApi-CVhRWstt.js";import{u as b}from"./useTranslation-DlJuNdwr.js";import"./config-Diokydjp.js";function u(o){if(!o)return"";const n=new Date(o);return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}const k=p(function({params:n}){const{t:s}=b(),[g,f]=l.useState(null),[a,d]=l.useState(""),[r,c]=l.useState("");l.useEffect(()=>{h(`/fehlzeiten/${n.fehlzeiten}`).then(t=>{console.log("Geladene Fehlzeiten:",t),f(t),d(u(t.Kstart)),c(u(t.Kende))}).catch(t=>console.error("Fehler beim Laden der Fehlzeitendaten:",t))},[n.fehlzeiten]);const x=async t=>{t.preventDefault();const i=new FormData;i.append("krankheit_start",a),i.append("krankheit_ende",r),i.append("_method","PUT"),console.log("Sende Daten:",{krankheit_start:a,krankheit_ende:r,id:n.fehlzeiten});try{await h(`/fehlzeiten/${n.fehlzeiten}`,{method:"POST",body:i}),window.location.href="/fehlzeiten"}catch(m){console.error("Fehler beim Aktualisieren der Fehlzeiten:",m),alert(s("networkError")+": "+m)}};return e.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-white",children:s("editAbsence")})}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{method:"post",onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fehlzeiten_start",className:"block text-sm/6 font-medium text-gray-100",children:s("absenceStart")}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"fehlzeiten_start",type:"date",name:"fehlzeiten_start",required:!0,value:a,onChange:t=>d(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fehlzeiten_ende",className:"block text-sm/6 font-medium text-gray-100",children:s("absenceEnd")}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"fehlzeiten_ende",type:"date",name:"fehlzeiten_ende",required:!0,value:r,onChange:t=>c(t.target.value),className:"block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm/6 font-semibold text-white hover:bg-indigo-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:s("save")})})]}),e.jsx("p",{className:"mt-10 text-center text-sm/6 text-gray-400",children:e.jsx("a",{href:"/fehlzeiten",className:"font-semibold text-indigo-400 hover:text-indigo-300",children:s("backToDashboard")})})]})]})});export{k as default};
