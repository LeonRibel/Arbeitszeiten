import{w as g,r,L as j}from"./chunk-FGUA77HG-DXx5pbNv.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{T as u,a as b,b as l,c as p,d as f,e as c}from"./table-B07IBsFq.js";import{f as v}from"./fetchApi-CVhRWstt.js";import{u as N}from"./useTranslation-DlJuNdwr.js";import"./clsx-B-dksMZM.js";import"./link-DeWrvwtq.js";import"./config-Diokydjp.js";const F=g(function(){const[n,d]=r.useState(null),[i,o]=r.useState(null),{t,i18n:a}=N(),[T,x]=r.useState(()=>localStorage.getItem("language")||"de");r.useEffect(()=>{const s=localStorage.getItem("language");s&&a.language!==s&&(a.changeLanguage(s),x(s))},[a]),r.useEffect(()=>{v("/kunden").then(s=>{d({kunden:s})}).catch(s=>{console.error("Fetch error:",s)})},[]);const h=s=>{o(m=>m===s?null:s)};return e.jsx("main",{children:n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:t("Kunden")}),e.jsxs(j,{to:"/kunden/neu",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",width:"20",height:"20",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v8M8 12h8"})]}),t("new customer")]})]}),e.jsxs(u,{children:[e.jsx(b,{children:e.jsx(l,{children:e.jsx(p,{children:t("Firmenname")})})}),e.jsx(f,{children:n.kunden.map(s=>e.jsxs(r.Fragment,{children:[e.jsx(l,{onClick:()=>h(s.id),className:"cursor-pointer hover:bg-gray-100",children:e.jsxs(c,{className:"font-medium flex justify-between items-center",children:[s.firmenname,e.jsx("span",{className:"text-gray-400",children:i===s.id?"▼":"▶"})]})}),i===s.id&&e.jsx(l,{children:e.jsx(c,{colSpan:1,children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm p-2",children:[e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Ansprechpartner"),":"]})," ",s.ansprechpartner]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("E-mail"),":"]})," ",s.email]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Telefon"),":"]})," ",s.telefon]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Ort"),":"]})," ",s.ort]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Straße"),":"]})," ",s.straße," ",s.hausnummer]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("PLZ"),":"]})," ",s.plz]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Land"),":"]})," ",s.land]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("USt-ID"),":"]})," ",s.ust_id]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Handelsregister"),":"]})," ",s.handelsregister_id]}),e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-500 dark:text-blue-400",children:[t("Kundenart"),":"]})," ",s.kundenart]})]})})})]},s.id))})]})]}):e.jsx("div",{children:t("loading")})})});export{F as default};
